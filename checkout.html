<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout - Hiro Aki Pizza Hub</title>

  <!-- Tailwind CSS v3 CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans min-h-screen flex flex-col">

  <!-- Navbar -->
  <header class="bg-white shadow">
    <div class="max-w-6xl mx-auto flex justify-between items-center px-6 py-4">
      <h1 class="text-2xl font-bold text-red-600">Hiro Aki - Cavite Distributor</h1>
      <nav class="space-x-4 text-gray-700">
        <a href="index.html" class="hover:text-red-500">Menu</a>
        <a href="https://msmariarachel.github.io/hiroaki/#cart" class="hover:text-red-500">Cart</a>
        <a href="checkout.html" class="hover:text-red-500">Checkout</a>
        <a href="https://msmariarachel.github.io/hiroaki/#terms" class="hover:text-red-500">Terms</a>
      </nav>
    </div>
  </header>

  <!-- Checkout Section -->
  <main class="flex-grow flex items-center justify-center px-4 py-10">
    <div class="w-full max-w-4xl bg-white shadow-lg rounded-lg p-6">
      <h2 class="text-2xl font-bold mb-4 text-gray-800 text-center">Complete Your Order</h2>
      <div class="relative w-full" style="padding-top: 56.25%;">
        <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSfwKv6sHkpGVBPS_5NsUXBpJK7g-XAtpnBK1oo5BlH74GZdLg/viewform?embedded=true" 
          width="800" height="1195" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-white py-6 text-center text-gray-500 text-sm">
    &copy; 2025 Hiro Aki - Cavite Distributor. All rights reserved.
  </footer>

  <script>
    // Get cart data from localStorage and prefill the Google Form
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    let orderDetails = 'Order Summary:\n\n';

    cart.forEach(item => {
      orderDetails += `${item.qty}x ${item.name} - ₱${item.price * item.qty}\n`;
    });

    const totalAmount = cart.reduce((total, item) => total + item.price * item.qty, 0);
    orderDetails += `\nTotal: ₱${totalAmount}`;

    const prefillURL = `https://docs.google.com/forms/d/e/YOUR_FORM_ID/viewform?entry.830727322=${encodeURIComponent(orderDetails)}`;

    // Update the iframe src with the pre-filled order details
    document.getElementById('google-form').src = prefillURL;
  </script>
</body>
</html>
